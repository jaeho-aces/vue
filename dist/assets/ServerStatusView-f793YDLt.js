import{G as F,d as V,r as S,m as B,c as x,b as s,p as i,q as d,A as $,t as a,I as z,J as P,z as m,F as C,s as D,D as j,x as k,S as H,C as I,E as N,o as b}from"./index-CGZOc8ps.js";import{M as T}from"./map-pin-CG9uIH3b.js";import{H as A}from"./hard-drive-DhLW_ASn.js";import{W as G}from"./wifi-CpDwlhME.js";/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=F("Grid3x3Icon",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),q={class:"flex-1 flex flex-col gap-4 min-h-0"},E={class:"grid grid-cols-4 gap-4 shrink-0"},L={class:"server-status-overview-card"},W={class:"flex items-center justify-between mb-2"},J={class:"text-2xl font-bold text-slate-800"},K={class:"server-status-overview-card"},O={class:"flex items-center justify-between mb-2"},Q={class:"text-2xl font-bold text-green-600"},R={class:"text-xs text-slate-400 mt-1"},X={class:"server-status-overview-card"},Y={class:"flex items-center justify-between mb-2"},Z={class:"text-2xl font-bold text-orange-600"},ss={class:"text-xs text-slate-400 mt-1"},ts={class:"server-status-overview-card"},es={class:"flex items-center justify-between mb-2"},as={class:"text-2xl font-bold text-indigo-600"},rs={class:"flex-1 flex flex-col min-h-0 bg-white rounded-xl border border-slate-200 overflow-hidden"},os={class:"p-4 border-b border-slate-200 flex items-center justify-between shrink-0"},ns={class:"server-status-tab-container"},ls={class:"server-status-view-toggle-buttons"},is={class:"flex-1 overflow-hidden flex flex-col"},ds={key:0,class:"flex-1 flex items-center justify-center text-slate-400"},cs={key:1,class:"flex-1 overflow-auto custom-scrollbar"},us={class:"w-full"},vs={class:"p-3"},hs={class:"font-medium text-slate-700"},ms={class:"p-3 text-sm text-slate-600"},gs={class:"p-3"},fs={class:"p-3"},ps={class:"server-status-grid-progress-container"},xs={class:"server-status-grid-progress-bar"},bs={class:"server-status-grid-progress-value"},_s={class:"p-3"},Ms={class:"server-status-grid-progress-container"},ws={class:"server-status-grid-progress-bar"},ks={class:"server-status-grid-progress-value"},ys={class:"p-3"},Bs={class:"server-status-grid-progress-container"},$s={class:"server-status-grid-progress-bar"},Ss={class:"server-status-grid-progress-value"},zs={class:"p-3"},Cs={class:"text-sm font-medium text-slate-600"},Ds={key:2,class:"flex-1 overflow-auto custom-scrollbar p-6"},Fs={class:"grid grid-cols-6 gap-4"},Vs={class:"server-status-server-card-header"},Ps={class:"server-status-server-icon-wrapper"},js={class:"flex flex-1 flex-col gap-2"},Hs={class:"server-status-server-title"},Is={class:"server-status-server-status-badge"},Ns={class:"server-status-server-location"},Ts={class:"server-status-server-ip"},As={class:"server-status-server-uptime"},Gs={class:"server-status-server-resources"},Us={class:"server-status-resource-item"},qs={class:"server-status-resource-header"},Es={class:"text-sm font-semibold text-blue-600"},Ls={class:"server-status-progress-bar"},Ws={class:"server-status-resource-item"},Js={class:"server-status-resource-header"},Ks={class:"text-sm font-semibold text-green-600"},Os={class:"server-status-progress-bar"},Qs={class:"server-status-resource-item"},Rs={class:"server-status-resource-header"},Xs={class:"text-sm font-semibold text-orange-600"},Ys={class:"server-status-progress-bar"},Zs={class:"server-status-resource-item"},st={class:"server-status-resource-header"},tt={class:"text-sm font-semibold text-purple-600"},et={class:"server-status-progress-bar"};function at(g){const r=["?? ??","?? ??","?? ??","?? ??","?? ??","?? ??","?? ??","?? ??"],c=["120 MB/s","135 MB/s","140 MB/s","150 MB/s","160 MB/s","180 MB/s","200 MB/s","220 MB/s","235 MB/s","250 MB/s"],u=[];for(let n=1;n<=g;n++){const v=r[Math.floor(Math.random()*r.length)],l=Math.random()>.15?"normal":"warning",_=l==="warning"?Math.floor(Math.random()*20)+75:Math.floor(Math.random()*50)+20,M=l==="warning"?Math.floor(Math.random()*20)+75:Math.floor(Math.random()*50)+25,h=l==="warning"?Math.floor(Math.random()*20)+75:Math.floor(Math.random()*50)+30,f=c[Math.floor(Math.random()*c.length)],p=`192.168.1.${100+n}`,w=Math.floor(Math.random()*200)+30,o=Math.floor(Math.random()*24),t=`${w}? ${o}??`;u.push({name:`??-${String(n).padStart(2,"0")}`,location:v,status:l,cpu:_,memory:M,disk:h,network:f,ip:p,uptime:t})}return u}function rt(g){const r=["?? ??","?? ??","?? ??","?? ??","?? ??"],c=["120 MB/s","135 MB/s","140 MB/s","150 MB/s","160 MB/s","180 MB/s","200 MB/s"],u=[];for(let n=1;n<=g;n++){const v=r[Math.floor(Math.random()*r.length)],l=Math.random()>.2?"normal":"warning",_=l==="warning"?Math.floor(Math.random()*20)+75:Math.floor(Math.random()*40)+25,M=l==="warning"?Math.floor(Math.random()*20)+75:Math.floor(Math.random()*40)+30,h=l==="warning"?Math.floor(Math.random()*20)+75:Math.floor(Math.random()*50)+25,f=c[Math.floor(Math.random()*c.length)],p=`192.168.1.${150+n}`,w=Math.floor(Math.random()*180)+50,o=Math.floor(Math.random()*24),t=`${w}? ${o}??`;u.push({name:`Media-${v.substring(0,2)}-${String(n).padStart(2,"0")}`,location:v,status:l,cpu:_,memory:M,disk:h,network:f,ip:p,uptime:t})}return u}function ot(g){const r=["?? ??","?? ??","?? ??","?? ??","?? ??","?? ??"],c=["150 MB/s","160 MB/s","180 MB/s","200 MB/s","220 MB/s","235 MB/s","250 MB/s","280 MB/s"],u=[];for(let n=1;n<=g;n++){const v=r[Math.floor(Math.random()*r.length)],l=Math.random()>.2?"normal":"warning",_=l==="warning"?Math.floor(Math.random()*20)+75:Math.floor(Math.random()*45)+25,M=l==="warning"?Math.floor(Math.random()*20)+75:Math.floor(Math.random()*45)+25,h=l==="warning"?Math.floor(Math.random()*20)+75:Math.floor(Math.random()*50)+20,f=c[Math.floor(Math.random()*c.length)],p=`192.168.1.${200+n}`,w=Math.floor(Math.random()*200)+40,o=Math.floor(Math.random()*24),t=`${w}? ${o}??`;u.push({name:`Media-${v.substring(0,2)}-${String(n).padStart(2,"0")}`,location:v,status:l,cpu:_,memory:M,disk:h,network:f,ip:p,uptime:t})}return u}const nt=at(50),lt=rt(30),it=ot(40),ht=V({__name:"ServerStatusView",props:{serverData:{default:()=>nt},transcodingServers:{default:()=>lt},mediaServers:{default:()=>it},serverFilter:{default:"transcoding"},serverViewMode:{default:"grid"}},setup(g){const r=g,c=S(r.serverFilter),u=S(r.serverViewMode),n=B(()=>r.serverData.filter(o=>o.status==="normal").length),v=B(()=>r.serverData.filter(o=>o.status==="warning").length),l=B(()=>(n.value/r.serverData.length*100).toFixed(1)),_=B(()=>(v.value/r.serverData.length*100).toFixed(1)),M=B(()=>Math.round(r.serverData.reduce((o,t)=>o+t.cpu,0)/r.serverData.length)),h=B(()=>c.value==="transcoding"?r.transcodingServers:r.mediaServers),f=o=>{c.value=o},p=o=>{u.value=o},w=o=>{const t=o.match(/(\d+)/);if(t){const e=parseInt(t[1]);return Math.min(e/1e3*50,50)}return 20};return(o,t)=>(b(),x("div",q,[s("div",E,[s("div",L,[s("div",W,[t[4]||(t[4]=s("span",{class:"text-sm text-slate-500"},"?? ??",-1)),i(d($),{size:16,class:"text-blue-500"})]),s("div",J,a(g.serverData.length),1),t[5]||(t[5]=s("div",{class:"text-xs text-slate-400 mt-1"},"?",-1))]),s("div",K,[s("div",O,[t[6]||(t[6]=s("span",{class:"text-sm text-slate-500"},"??",-1)),i(d(z),{size:16,class:"text-green-500"})]),s("div",Q,a(n.value),1),s("div",R,a(l.value)+"%",1)]),s("div",X,[s("div",Y,[t[7]||(t[7]=s("span",{class:"text-sm text-slate-500"},"??",-1)),i(d(P),{size:16,class:"text-orange-500"})]),s("div",Z,a(v.value),1),s("div",ss,a(_.value)+"%",1)]),s("div",ts,[s("div",es,[t[8]||(t[8]=s("span",{class:"text-sm text-slate-500"},"?? CPU",-1)),i(d($),{size:16,class:"text-indigo-500"})]),s("div",as,a(M.value)+"%",1),t[9]||(t[9]=s("div",{class:"text-xs text-slate-400 mt-1"},"?? ??",-1))])]),s("div",rs,[s("div",os,[s("div",ns,[s("button",{onClick:t[0]||(t[0]=e=>f("transcoding")),class:m(["server-status-tab-button",c.value==="transcoding"?"server-status-tab-button-active":"server-status-tab-button-inactive"])}," ??/?? ?? ",2),s("button",{onClick:t[1]||(t[1]=e=>f("media")),class:m(["server-status-tab-button",c.value==="media"?"server-status-tab-button-active":"server-status-tab-button-inactive"])}," ??? ?? ",2)]),s("div",ls,[s("button",{onClick:t[2]||(t[2]=e=>p("grid")),class:m(["server-status-view-toggle-btn",{"server-status-view-toggle-btn-active":u.value==="grid"}])},[i(d(U),{size:20})],2),s("button",{onClick:t[3]||(t[3]=e=>p("chart")),class:m(["server-status-view-toggle-btn",{"server-status-view-toggle-btn-active":u.value==="chart"}])},[i(d($),{size:20})],2)])]),s("div",is,[h.value.length===0?(b(),x("div",ds," ???? ????. ")):u.value==="grid"?(b(),x("div",cs,[s("table",us,[t[10]||(t[10]=s("thead",{class:"bg-slate-50 sticky top-0 z-10"},[s("tr",null,[s("th",{class:"text-left p-3 text-sm font-semibold text-slate-600 border-b border-slate-200"},"???"),s("th",{class:"text-left p-3 text-sm font-semibold text-slate-600 border-b border-slate-200"},"??"),s("th",{class:"text-left p-3 text-sm font-semibold text-slate-600 border-b border-slate-200"},"??"),s("th",{class:"text-left p-3 text-sm font-semibold text-slate-600 border-b border-slate-200"},"CPU"),s("th",{class:"text-left p-3 text-sm font-semibold text-slate-600 border-b border-slate-200"},"???"),s("th",{class:"text-left p-3 text-sm font-semibold text-slate-600 border-b border-slate-200"},"???"),s("th",{class:"text-left p-3 text-sm font-semibold text-slate-600 border-b border-slate-200"},"????")])],-1)),s("tbody",null,[(b(!0),x(C,null,D(h.value,(e,y)=>(b(),x("tr",{key:y,class:"border-b border-slate-50 hover:bg-slate-50 transition-colors"},[s("td",vs,[s("div",hs,a(e.name),1)]),s("td",ms,a(e.location),1),s("td",gs,[s("span",{class:m(["inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium",e.status==="normal"?"bg-green-50 text-green-700":"bg-orange-50 text-orange-700"])},[s("span",{class:m(["w-1.5 h-1.5 rounded-full",e.status==="normal"?"bg-green-500":"bg-orange-500"])},null,2),j(" "+a((e.status==="normal","??")),1)],2)]),s("td",fs,[s("div",ps,[s("div",xs,[s("div",{class:m(["server-status-grid-progress-fill",e.cpu>70?"bg-orange-500":"bg-blue-500"]),style:k({width:`${e.cpu}%`})},null,6)]),s("span",bs,a(e.cpu)+"%",1)])]),s("td",_s,[s("div",Ms,[s("div",ws,[s("div",{class:m(["server-status-grid-progress-fill",e.memory>70?"bg-orange-500":"bg-green-500"]),style:k({width:`${e.memory}%`})},null,6)]),s("span",ks,a(e.memory)+"%",1)])]),s("td",ys,[s("div",Bs,[s("div",$s,[s("div",{class:m(["server-status-grid-progress-fill",e.disk>70?"bg-orange-500":"bg-indigo-500"]),style:k({width:`${e.disk}%`})},null,6)]),s("span",Ss,a(e.disk)+"%",1)])]),s("td",zs,[s("span",Cs,a(e.network),1)])]))),128))])])])):(b(),x("div",Ds,[s("div",Fs,[(b(!0),x(C,null,D(h.value,(e,y)=>(b(),x("div",{key:y,class:"server-status-server-card"},[s("div",Vs,[s("div",Ps,[i(d(H),{size:24,class:"text-blue-500"})]),s("div",js,[s("h3",Hs,a(e.name),1),s("div",Is,[i(d(z),{size:14}),t[11]||(t[11]=s("span",null,"??",-1))])])]),s("div",Ns,[i(d(T),{size:14,class:"text-slate-400 shrink-0"}),s("span",null,a(e.location),1),s("span",Ts,a(e.ip||"192.168.1.10"+(y+1)),1)]),s("div",As,[i(d(I),{size:14,class:"text-slate-400 shrink-0"}),s("span",null,a(e.uptime||`${90+y*5}? ${10+y*2}??`),1)]),s("div",Gs,[s("div",Us,[s("div",qs,[i(d($),{size:16,class:"shrink-0 text-blue-500"}),t[12]||(t[12]=s("span",{class:"text-sm text-slate-600 flex-1"},"CPU",-1)),s("span",Es,a(e.cpu)+"%",1)]),s("div",Ls,[s("div",{class:"server-status-progress-fill bg-blue-500",style:k({width:`${e.cpu}%`})},null,4)])]),s("div",Ws,[s("div",Js,[i(d(N),{size:16,class:"shrink-0 text-green-500"}),t[13]||(t[13]=s("span",{class:"text-sm text-slate-600 flex-1"},"???",-1)),s("span",Ks,a(e.memory)+"%",1)]),s("div",Os,[s("div",{class:"server-status-progress-fill bg-green-500",style:k({width:`${e.memory}%`})},null,4)])]),s("div",Qs,[s("div",Rs,[i(d(A),{size:16,class:"shrink-0 text-orange-500"}),t[14]||(t[14]=s("span",{class:"text-sm text-slate-600 flex-1"},"???",-1)),s("span",Xs,a(e.disk)+"%",1)]),s("div",Ys,[s("div",{class:"server-status-progress-fill bg-orange-500",style:k({width:`${e.disk}%`})},null,4)])]),s("div",Zs,[s("div",st,[i(d(G),{size:16,class:"shrink-0 text-purple-500"}),t[15]||(t[15]=s("span",{class:"text-sm text-slate-600 flex-1"},"????",-1)),s("span",tt,a(e.network),1)]),s("div",et,[s("div",{class:"server-status-progress-fill bg-purple-500",style:k({width:`${w(e.network)}%`})},null,4)])])])]))),128))])]))])])]))}});export{ht as default};
