import{G as V,d as F,r as $,m as B,c as _,b as s,p as i,q as d,A as S,t as o,H as z,I as j,z as g,F as C,s as D,D as P,x as k,S as H,C as I,E as N,o as b,j as T}from"./index-DUpAoUQv.js";import{M as A}from"./map-pin-DEf0r992.js";import{H as G}from"./hard-drive-CCQL89ZJ.js";import{W as U}from"./wifi-BXZHGuhI.js";/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=V("Grid3x3Icon",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),E={class:"flex-1 flex flex-col gap-4 min-h-0"},L={class:"grid grid-cols-4 gap-4 shrink-0"},W={class:"bg-white rounded-xl p-4 shadow-sm border border-slate-100"},J={class:"flex items-center justify-between mb-2"},K={class:"text-2xl font-bold text-slate-800"},O={class:"bg-white rounded-xl p-4 shadow-sm border border-slate-100"},Q={class:"flex items-center justify-between mb-2"},R={class:"text-2xl font-bold text-green-600"},X={class:"text-xs text-slate-400 mt-1"},Y={class:"bg-white rounded-xl p-4 shadow-sm border border-slate-100"},Z={class:"flex items-center justify-between mb-2"},ss={class:"text-2xl font-bold text-orange-600"},ts={class:"text-xs text-slate-400 mt-1"},es={class:"bg-white rounded-xl p-4 shadow-sm border border-slate-100"},os={class:"flex items-center justify-between mb-2"},as={class:"text-2xl font-bold text-indigo-600"},rs={class:"flex-1 flex flex-col min-h-0 bg-white rounded-xl border border-slate-200 overflow-hidden"},ns={class:"p-4 border-b border-slate-200 flex items-center justify-between shrink-0"},ls={class:"tab-container"},is={class:"view-toggle-buttons"},ds={class:"flex-1 overflow-hidden flex flex-col"},cs={key:0,class:"flex-1 flex items-center justify-center text-slate-400"},us={key:1,class:"flex-1 overflow-auto custom-scrollbar"},hs={class:"w-full"},ms={class:"p-3"},gs={class:"font-medium text-slate-700"},ps={class:"p-3 text-sm text-slate-600"},vs={class:"p-3"},fs={class:"p-3"},_s={class:"grid-progress-container"},bs={class:"grid-progress-bar"},Ms={class:"grid-progress-value"},xs={class:"p-3"},ws={class:"grid-progress-container"},ks={class:"grid-progress-bar"},ys={class:"grid-progress-value"},Bs={class:"p-3"},Ss={class:"grid-progress-container"},$s={class:"grid-progress-bar"},zs={class:"grid-progress-value"},Cs={class:"p-3"},Ds={class:"text-sm font-medium text-slate-600"},Vs={key:2,class:"flex-1 overflow-auto custom-scrollbar p-6"},Fs={class:"grid grid-cols-6 gap-4"},js={class:"server-card-header"},Ps={class:"server-icon-wrapper"},Hs={class:"server-title-section"},Is={class:"server-title"},Ns={class:"server-status-badge"},Ts={class:"server-location"},As={class:"server-ip"},Gs={class:"server-uptime"},Us={class:"server-resources"},qs={class:"resource-item"},Es={class:"resource-header"},Ls={class:"resource-value cpu-value"},Ws={class:"progress-bar"},Js={class:"resource-item"},Ks={class:"resource-header"},Os={class:"resource-value memory-value"},Qs={class:"progress-bar"},Rs={class:"resource-item"},Xs={class:"resource-header"},Ys={class:"resource-value disk-value"},Zs={class:"progress-bar"},st={class:"resource-item"},tt={class:"resource-header"},et={class:"resource-value network-value"},ot={class:"progress-bar"};function at(p){const a=["김천 본사","교통 센터","서울 지사","부산 지사","대전 지사","광주 지사","인천 지사","수원 지사"],c=["120 MB/s","135 MB/s","140 MB/s","150 MB/s","160 MB/s","180 MB/s","200 MB/s","220 MB/s","235 MB/s","250 MB/s"],u=[];for(let n=1;n<=p;n++){const h=a[Math.floor(Math.random()*a.length)],l=Math.random()>.15?"normal":"warning",M=l==="warning"?Math.floor(Math.random()*20)+75:Math.floor(Math.random()*50)+20,x=l==="warning"?Math.floor(Math.random()*20)+75:Math.floor(Math.random()*50)+25,m=l==="warning"?Math.floor(Math.random()*20)+75:Math.floor(Math.random()*50)+30,v=c[Math.floor(Math.random()*c.length)],f=`192.168.1.${100+n}`,w=Math.floor(Math.random()*200)+30,r=Math.floor(Math.random()*24),t=`${w}일 ${r}시간`;u.push({name:`서버-${String(n).padStart(2,"0")}`,location:h,status:l,cpu:M,memory:x,disk:m,network:v,ip:f,uptime:t})}return u}function rt(p){const a=["김천 본사","교통 센터","서울 지사","부산 지사","대전 지사"],c=["120 MB/s","135 MB/s","140 MB/s","150 MB/s","160 MB/s","180 MB/s","200 MB/s"],u=[];for(let n=1;n<=p;n++){const h=a[Math.floor(Math.random()*a.length)],l=Math.random()>.2?"normal":"warning",M=l==="warning"?Math.floor(Math.random()*20)+75:Math.floor(Math.random()*40)+25,x=l==="warning"?Math.floor(Math.random()*20)+75:Math.floor(Math.random()*40)+30,m=l==="warning"?Math.floor(Math.random()*20)+75:Math.floor(Math.random()*50)+25,v=c[Math.floor(Math.random()*c.length)],f=`192.168.1.${150+n}`,w=Math.floor(Math.random()*180)+50,r=Math.floor(Math.random()*24),t=`${w}일 ${r}시간`;u.push({name:`Media-${h.substring(0,2)}-${String(n).padStart(2,"0")}`,location:h,status:l,cpu:M,memory:x,disk:m,network:v,ip:f,uptime:t})}return u}function nt(p){const a=["김천 본사","교통 센터","서울 지사","부산 지사","대전 지사","광주 지사"],c=["150 MB/s","160 MB/s","180 MB/s","200 MB/s","220 MB/s","235 MB/s","250 MB/s","280 MB/s"],u=[];for(let n=1;n<=p;n++){const h=a[Math.floor(Math.random()*a.length)],l=Math.random()>.2?"normal":"warning",M=l==="warning"?Math.floor(Math.random()*20)+75:Math.floor(Math.random()*45)+25,x=l==="warning"?Math.floor(Math.random()*20)+75:Math.floor(Math.random()*45)+25,m=l==="warning"?Math.floor(Math.random()*20)+75:Math.floor(Math.random()*50)+20,v=c[Math.floor(Math.random()*c.length)],f=`192.168.1.${200+n}`,w=Math.floor(Math.random()*200)+40,r=Math.floor(Math.random()*24),t=`${w}일 ${r}시간`;u.push({name:`Media-${h.substring(0,2)}-${String(n).padStart(2,"0")}`,location:h,status:l,cpu:M,memory:x,disk:m,network:v,ip:f,uptime:t})}return u}const lt=at(50),it=rt(30),dt=nt(40),ct=F({__name:"ServerStatusView",props:{serverData:{default:()=>lt},transcodingServers:{default:()=>it},mediaServers:{default:()=>dt},serverFilter:{default:"transcoding"},serverViewMode:{default:"grid"}},setup(p){const a=p,c=$(a.serverFilter),u=$(a.serverViewMode),n=B(()=>a.serverData.filter(r=>r.status==="normal").length),h=B(()=>a.serverData.filter(r=>r.status==="warning").length),l=B(()=>(n.value/a.serverData.length*100).toFixed(1)),M=B(()=>(h.value/a.serverData.length*100).toFixed(1)),x=B(()=>Math.round(a.serverData.reduce((r,t)=>r+t.cpu,0)/a.serverData.length)),m=B(()=>c.value==="transcoding"?a.transcodingServers:a.mediaServers),v=r=>{c.value=r},f=r=>{u.value=r},w=r=>{const t=r.match(/(\d+)/);if(t){const e=parseInt(t[1]);return Math.min(e/1e3*50,50)}return 20};return(r,t)=>(b(),_("div",E,[s("div",L,[s("div",W,[s("div",J,[t[4]||(t[4]=s("span",{class:"text-sm text-slate-500"},"전체 서버",-1)),i(d(S),{size:16,class:"text-blue-500"})]),s("div",K,o(p.serverData.length),1),t[5]||(t[5]=s("div",{class:"text-xs text-slate-400 mt-1"},"대",-1))]),s("div",O,[s("div",Q,[t[6]||(t[6]=s("span",{class:"text-sm text-slate-500"},"정상",-1)),i(d(z),{size:16,class:"text-green-500"})]),s("div",R,o(n.value),1),s("div",X,o(l.value)+"%",1)]),s("div",Y,[s("div",Z,[t[7]||(t[7]=s("span",{class:"text-sm text-slate-500"},"경고",-1)),i(d(j),{size:16,class:"text-orange-500"})]),s("div",ss,o(h.value),1),s("div",ts,o(M.value)+"%",1)]),s("div",es,[s("div",os,[t[8]||(t[8]=s("span",{class:"text-sm text-slate-500"},"평균 CPU",-1)),i(d(S),{size:16,class:"text-indigo-500"})]),s("div",as,o(x.value)+"%",1),t[9]||(t[9]=s("div",{class:"text-xs text-slate-400 mt-1"},"정상 범위",-1))])]),s("div",rs,[s("div",ns,[s("div",ls,[s("button",{onClick:t[0]||(t[0]=e=>v("transcoding")),class:g(["tab-button",c.value==="transcoding"?"tab-button-active":"tab-button-inactive"])}," 변환/분배 서버 ",2),s("button",{onClick:t[1]||(t[1]=e=>v("media")),class:g(["tab-button",c.value==="media"?"tab-button-active":"tab-button-inactive"])}," 미디어 서버 ",2)]),s("div",is,[s("button",{onClick:t[2]||(t[2]=e=>f("grid")),class:g(["view-toggle-btn",{"view-toggle-btn-active":u.value==="grid"}])},[i(d(q),{size:20})],2),s("button",{onClick:t[3]||(t[3]=e=>f("chart")),class:g(["view-toggle-btn",{"view-toggle-btn-active":u.value==="chart"}])},[i(d(S),{size:20})],2)])]),s("div",ds,[m.value.length===0?(b(),_("div",cs," 데이터가 없습니다. ")):u.value==="grid"?(b(),_("div",us,[s("table",hs,[t[10]||(t[10]=s("thead",{class:"bg-slate-50 sticky top-0 z-10"},[s("tr",null,[s("th",{class:"text-left p-3 text-sm font-semibold text-slate-600 border-b border-slate-200"},"서버명"),s("th",{class:"text-left p-3 text-sm font-semibold text-slate-600 border-b border-slate-200"},"위치"),s("th",{class:"text-left p-3 text-sm font-semibold text-slate-600 border-b border-slate-200"},"상태"),s("th",{class:"text-left p-3 text-sm font-semibold text-slate-600 border-b border-slate-200"},"CPU"),s("th",{class:"text-left p-3 text-sm font-semibold text-slate-600 border-b border-slate-200"},"메모리"),s("th",{class:"text-left p-3 text-sm font-semibold text-slate-600 border-b border-slate-200"},"디스크"),s("th",{class:"text-left p-3 text-sm font-semibold text-slate-600 border-b border-slate-200"},"네트워크")])],-1)),s("tbody",null,[(b(!0),_(C,null,D(m.value,(e,y)=>(b(),_("tr",{key:y,class:"border-b border-slate-50 hover:bg-slate-50 transition-colors"},[s("td",ms,[s("div",gs,o(e.name),1)]),s("td",ps,o(e.location),1),s("td",vs,[s("span",{class:g(["inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium",e.status==="normal"?"bg-green-50 text-green-700":"bg-orange-50 text-orange-700"])},[s("span",{class:g(["w-1.5 h-1.5 rounded-full",e.status==="normal"?"bg-green-500":"bg-orange-500"])},null,2),P(" "+o(e.status==="normal"?"정상":"경고"),1)],2)]),s("td",fs,[s("div",_s,[s("div",bs,[s("div",{class:g(["grid-progress-fill",e.cpu>70?"grid-progress-warning":"grid-progress-cpu"]),style:k({width:`${e.cpu}%`})},null,6)]),s("span",Ms,o(e.cpu)+"%",1)])]),s("td",xs,[s("div",ws,[s("div",ks,[s("div",{class:g(["grid-progress-fill",e.memory>70?"grid-progress-warning":"grid-progress-memory"]),style:k({width:`${e.memory}%`})},null,6)]),s("span",ys,o(e.memory)+"%",1)])]),s("td",Bs,[s("div",Ss,[s("div",$s,[s("div",{class:g(["grid-progress-fill",e.disk>70?"grid-progress-warning":"grid-progress-disk"]),style:k({width:`${e.disk}%`})},null,6)]),s("span",zs,o(e.disk)+"%",1)])]),s("td",Cs,[s("span",Ds,o(e.network),1)])]))),128))])])])):(b(),_("div",Vs,[s("div",Fs,[(b(!0),_(C,null,D(m.value,(e,y)=>(b(),_("div",{key:y,class:"server-card"},[s("div",js,[s("div",Ps,[i(d(H),{size:24,class:"server-icon"})]),s("div",Hs,[s("h3",Is,o(e.name),1),s("div",Ns,[i(d(z),{size:14}),t[11]||(t[11]=s("span",null,"정상",-1))])])]),s("div",Ts,[i(d(A),{size:14,class:"location-icon"}),s("span",null,o(e.location),1),s("span",As,o(e.ip||"192.168.1.10"+(y+1)),1)]),s("div",Gs,[i(d(I),{size:14,class:"uptime-icon"}),s("span",null,o(e.uptime||`${90+y*5}일 ${10+y*2}시간`),1)]),s("div",Us,[s("div",qs,[s("div",Es,[i(d(S),{size:16,class:"resource-icon cpu-icon"}),t[12]||(t[12]=s("span",{class:"resource-label"},"CPU",-1)),s("span",Ls,o(e.cpu)+"%",1)]),s("div",Ws,[s("div",{class:"progress-fill cpu-fill",style:k({width:`${e.cpu}%`})},null,4)])]),s("div",Js,[s("div",Ks,[i(d(N),{size:16,class:"resource-icon memory-icon"}),t[13]||(t[13]=s("span",{class:"resource-label"},"메모리",-1)),s("span",Os,o(e.memory)+"%",1)]),s("div",Qs,[s("div",{class:"progress-fill memory-fill",style:k({width:`${e.memory}%`})},null,4)])]),s("div",Rs,[s("div",Xs,[i(d(G),{size:16,class:"resource-icon disk-icon"}),t[14]||(t[14]=s("span",{class:"resource-label"},"디스크",-1)),s("span",Ys,o(e.disk)+"%",1)]),s("div",Zs,[s("div",{class:"progress-fill disk-fill",style:k({width:`${e.disk}%`})},null,4)])]),s("div",st,[s("div",tt,[i(d(U),{size:16,class:"resource-icon network-icon"}),t[15]||(t[15]=s("span",{class:"resource-label"},"네트워크",-1)),s("span",et,o(e.network),1)]),s("div",ot,[s("div",{class:"progress-fill network-fill",style:k({width:`${w(e.network)}%`})},null,4)])])])]))),128))])]))])])]))}}),pt=T(ct,[["__scopeId","data-v-66a424ee"]]);export{pt as default};
